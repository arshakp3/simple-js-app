let pokemonRepository=function(){let t=[],e='https://pokeapi.co/api/v2/pokemon/?limit=150';function n(e){t.push(e)}function o(t){let e=t.detailsURL;return fetch(e).then(function(t){return t.json()}).then(function(e){t.imageUrl=e.sprites.other.home.front_default,t.height=e.height,t.xp=e.base_experience,t.weight=e.weight,t.types=e.types}).catch(function(t){console.error(t)})}return{getAll:function(){return t},add:n,addListItem:function(t){let e=document.querySelector('.pokemon-list'),n=document.createElement('li'),i=document.createElement('button'),a=document.createElement('div');a.classList.add('col-lg-3','col-md-4','col-sm-6','col-xs-12'),i.innerText=t.name,i.classList.add("pk-button","btn"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#pkModal"),n.classList.add("list-group-item"),n.appendChild(i),a.appendChild(n),e.appendChild(a),i.addEventListener("click",function(){!function(t){o(t).then(function(){!function(t){let e=$('.modal-body'),n=$(".modal-title");n.empty(),e.empty();let o=$('<h1>'+t.name+'</h1>'),i=$('<img class="modal-img" style="width:50%">');i.attr('src',t.imageUrl);let a=$("<p>Height: "+t.height+"m</p>"),p=$("<p>Weight: "+t.weight+"kg</p>"),l='Type<span class = "notCapitalised">(s)</span>: ';for(let e=0;e<t.types.length;e++)l+=t.types[e].type.name,e!=t.types.length-1&&(l+=' & ');let s=$('<p>'+l+'</p>'),c=$('<p>Base Experience: '+t.xp+"</p>");n.append(o),e.append(i),e.append(a),e.append(p),e.append(s),e.append(c)}(t)})}(t)})},loadList:function(){return fetch(e).then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){n({name:t.name,detailsURL:t.url})})}).catch(function(t){console.error(t)})},loadDetails:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});
